<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Funcionarios</title>
    </h:head>
    <f:view>
        <h:body>
            <h:form acceptcharset="UTF-8" enctype="multipart/form-data">
                <p:panelGrid>
                    <f:facet name="header">
                        <p:row>
                            <p:column colspan="2">
                                Informes y progresos
                            </p:column>
                        </p:row>
                    </f:facet>
                    <p:row>
                        <p:column>
                            <p:outputLabel for="titulo" value="Titulo"/>
                        </p:column>

                        <p:column>
                            <p:inputText id="titulo" value="#{seguimientoBean.informes.titulo}" required="true" requiredMessage="Es necesario Un titulo"/>
                        </p:column>
                    </p:row>

                    <p:row>
                        <p:column>
                            <p:outputLabel for="categorias" value="Categoria"/>
                        </p:column>
                        <p:column>
                            <p:selectOneMenu id="categorias" value="#{seguimientoBean.categoria.idCategoria}" required="true" requiredMessage="Selecciona una categoria">
                                <f:selectItem itemLabel="Selecciona una categoria" itemValue="" />
                                <f:selectItems value="#{seguimientoBean.categorias}" var="cat" itemLabel="#{cat.categoria}" itemValue="#{cat.idCategoria}" />
                            </p:selectOneMenu>
                        </p:column>
                    </p:row>

                    <p:row>
                        <p:column>
                            <p:outputLabel for="file" value="Imagen destacada"/>
                        </p:column>
                        <p:column>
                            <h:inputFile id="file" value="#{seguimientoBean.file}"/>
                        </p:column>
                    </p:row>

                    <p:row>
                        <p:column id="Cuerpo" colspan="2">
                            <p:editor value="#{seguimientoBean.informes.cuerpo}" required="true" requiredMessage="Es necesario el cuerpo del la noticia"/>
                        </p:column>
                    </p:row>

                    <f:facet name="footer">
                        <p:row>
                            <p:column colspan="2">
                                <h:commandButton action="#{seguimientoBean.crearNoticia}" value="Mandar">
                                    <f:ajax execute="@all" render="@form"/>
                                </h:commandButton>
                                <h:commandButton action="/index.jsf?faces-redirect=true" immediate="true" value="Atras" />
                            </p:column>
                        </p:row>
                    </f:facet>
                </p:panelGrid>
                <p:growl id="messages" showDetail="true" life="10000" />
            </h:form>
        </h:body>
    </f:view>
</html>

