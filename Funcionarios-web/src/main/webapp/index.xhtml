<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Funcionarios</title>
        <h:outputStylesheet name="style.css" library="css"/>
        <h:outputStylesheet name="style_resp.css" library="css"/>
    </h:head>
    <h:body>
        <f:view>
            <p:panelGrid columns="2">
                <p:link outcome="usuarios/calificarFuncionario" value="calificacion"/>
                <p:link outcome="funcionarios/seguimiento" value="funcionario"/>
            </p:panelGrid>
            <h:form> 
                <p:dataScroller value="#{indexBean.informesnoticias}" var="info" chunkSize="10">
                    <f:facet name="header">
                        Informes y Noticias
                    </f:facet>

                    <p:panelGrid columns="2" style="width:100%" columnClasses="logo,detail">
                        <p:column>
                            <p:graphicImage class="logoNoticia" name="imagenes/informesNoticias/#{info.tituloImagen!=null?info.tituloImagen:'no_disponible.jpg'}" />
                        </p:column>
                        <p:column>
                            <p:outputPanel>
                                <p:panelGrid styleClass="tableInfo">
                                    <p:row>
                                        <p:column>
                                            <h:outputText value="#{info.titulo}" style="font-weight: bold"/>
                                        </p:column>
                                        <p:column>
                                            <h:outputText value="Categoria:#{info.categoria.categoria}" style="font-weight: bold"/>
                                        </p:column>
                                        <p:column>
                                            <h:outputText value="Funcionario:#{info.funcionario.datosFuncionarios.nombre} #{info.funcionario.datosFuncionarios.apellidoP} #{info.funcionario.datosFuncionarios.apellidoM}" style="font-weight: bold"/>
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column colspan="3">
                                            <h:outputText value="#{info.cuerpo.substring(0,(info.cuerpo.length()*0.1))}... " escape="false"/>
                                        </p:column>
                                    </p:row>
                                    <p:row>
                                        <p:column colspan="3">
                                            <h:link outcome="noticias" value=" Leer mÃ¡s">
                                                <f:param name="noticiaId" value="#{info.idInforme}" />
                                            </h:link>
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                            </p:outputPanel>
                        </p:column>
                    </p:panelGrid>
                </p:dataScroller>
            </h:form>
        </f:view>
    </h:body>
</html>

